prefixes:
  dpp-battpass: http://dpp.example.org/batt-pass#
  battPass: http://example.org/battpass#

base: http://example.com/base#

sources:
  dpp-battpass:
    access: data.json
    referenceFormulation: jsonpath
    iterator: "$"
  metadata:
    access: data.json
    referenceFormulation: jsonpath
    iterator: "$.metadata"
  dynamic:
    access: data.json
    referenceFormulation: jsonpath
    iterator: "$.performance.dynamic"

mappings:
  battpassMapping:
    source:
        - dpp-battpass
    subject: dpp-battpass:$(identification.idDmc)_$(metadata.lastModification)
    predicateobjects:
      - [a, battPass:BattPassUpdate]
      - [battPass:idDmc, $(identification.idDmc)]
      - p: battPass:metadata
        o:
        - mapping: metadataMapping
      - p: battPass:dynamic
        o:
        - mapping: dynamicMapping
        
  metadataMapping:
    source:
      - dpp-battpass
    subject: battPass:demoBattPassMetadata_$(identification.idDmc)_$(metadata.lastModification)
    predicateobjects:
      - [a, battPass:Metadata]
      - [battPass:passportIdentifier, $(metadata.passportIdentifier)]
      - [battPass:version, $(metadata.version)]
      - [battPass:lastModification, $(metadata.lastModification)]
      - [battPass:predecessor, $(metadata.predecessor)]
      - [battPass:status, $(metadata.status)]

  dynamicMapping:
    source:
      - dpp-battpass
    subject: battPass:demoBattPassDynamic_$(identification.idDmc)_$(metadata.lastModification)
    predicateobjects:
      - [a, battPass:Dynamic]
      - [battPass:selfDischargingRate, $(performance.dynamic.selfDischargingRate)]
      - [battPass:stateOfCharge, $(performance.dynamic.stateOfCharge.value)]
      - [battPass:stateOfHealth, $(performance.dynamic.stateOfHealth.value)]
      - [battPass:cellVoltage, $(performance.dynamic.cellVoltage)]
      - [battPass:cellTemperature, $(performance.dynamic.cellTemperature)]
  
      
  